(function(e){var c=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks){for(var b=c.length;b;){e.event.fixHooks[c[--b]]=e.event.mouseHooks;}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var f=c.length;f;){this.addEventListener(c[--f],d,false);}}else{this.onmousewheel=d;}},teardown:function(){if(this.removeEventListener){for(var f=c.length;f;){this.removeEventListener(c[--f],d,false);}}else{this.onmousewheel=null;}}};e.fn.extend({mousewheel:function(f){return f?this.bind("mousewheel",f):this.trigger("mousewheel");},unmousewheel:function(f){return this.unbind("mousewheel",f);}});function d(k){var i=k||window.event,h=[].slice.call(arguments,1),l=0,j=true,g=0,f=0;k=e.event.fix(i);k.type="mousewheel";if(i.wheelDelta){l=i.wheelDelta/120;}if(i.detail){l=-i.detail/3;}f=l;if(i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS){f=0;g=-1*l;}if(i.wheelDeltaY!==undefined){f=i.wheelDeltaY/120;}if(i.wheelDeltaX!==undefined){g=-1*i.wheelDeltaX/120;}h.unshift(k,l,g,f);return(e.event.dispatch||e.event.handle).apply(this,h);}})(jQuery);(function(d,e,f){d.fn.jScrollPane=function(b){function c(bs,bc){var bl,ba=this,a2,bG,aL,bE,a7,a1,aI,aP,bj,bT,bt,aX,bi,aY,aW,bP,a6,bA,a3,aN,bx,bz,bK,bD,bm,aU,bv,bn,aJ,br,bQ,a0,bf,bH=true,bb=true,bR=false,aV=false,bB=bs.clone(false,false).empty(),bN=d.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";bQ=bs.css("paddingTop")+" "+bs.css("paddingRight")+" "+bs.css("paddingBottom")+" "+bs.css("paddingLeft");a0=(parseInt(bs.css("paddingLeft"),10)||0)+(parseInt(bs.css("paddingRight"),10)||0);function by(i){var n,l,m,g,h,j,k=false,o=false;bl=i;if(a2===f){h=bs.scrollTop();j=bs.scrollLeft();bs.css({overflow:"hidden",padding:0});bG=bs.innerWidth()+a0;aL=bs.innerHeight();bs.width(bG);a2=d('<div class="jspPane" />').css("padding",bQ).append(bs.children());bE=d('<div class="jspContainer" />').css({width:bG+"px",height:aL+"px"}).append(a2).appendTo(bs);}else{bs.css("width","");k=bl.stickToBottom&&bg();o=bl.stickToRight&&bw();g=bs.innerWidth()+a0!=bG||bs.outerHeight()!=aL;if(g){bG=bs.innerWidth()+a0;aL=bs.innerHeight();bE.css({width:bG+"px",height:aL+"px"});}if(!g&&bf==a7&&a2.outerHeight()==a1){bs.width(bG);return;}bf=a7;a2.css("width","");bs.width(bG);bE.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end();}a2.css("overflow","auto");if(i.contentWidth){a7=i.contentWidth;}else{a7=a2[0].scrollWidth;}a1=a2[0].scrollHeight;a2.css("overflow","");aI=a7/bG;aP=a1/aL;bj=aP>1;bT=aI>1;if(!(bT||bj)){bs.removeClass("jspScrollable");a2.css({top:0,width:bE.width()-a0});aS();bq();a9();aK();}else{bs.addClass("jspScrollable");n=bl.maintainPosition&&(bi||bP);if(n){l=bV();m=bX();}bS();s();bo();if(n){bd(o?(a7-bG):l,false);be(k?(a1-aL):m,false);}bh();bJ();bC();if(bl.enableKeyboardNavigation){a8();}if(bl.clickOnTrack){aQ();}bu();if(bl.hijackInternalLinks){aT();}}if(bl.autoReinitialise&&!br){br=setInterval(function(){by(bl);},bl.autoReinitialiseDelay);}else{if(!bl.autoReinitialise&&br){clearInterval(br);}}h&&bs.scrollTop(0)&&be(h,false);j&&bs.scrollLeft(0)&&bd(j,false);bs.trigger("jsp-initialised",[bT||bj]);}function bS(){if(bj){bE.append(d('<div class="jspVerticalBar" />').append(d('<div class="jspCap jspCapTop" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragTop" />'),d('<div class="jspDragBottom" />'))),d('<div class="jspCap jspCapBottom" />')));a6=bE.find(">.jspVerticalBar");bA=a6.find(">.jspTrack");bt=bA.find(">.jspDrag");if(bl.showArrows){bz=d('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",bU(0,-1)).bind("click.jsp",bW);bK=d('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",bU(0,1)).bind("click.jsp",bW);if(bl.arrowScrollOnHover){bz.bind("mouseover.jsp",bU(0,-1,bz));bK.bind("mouseover.jsp",bU(0,1,bK));}bF(bA,bl.verticalArrowPositions,bz,bK);}aN=aL;bE.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){aN-=d(this).outerHeight();});bt.hover(function(){bt.addClass("jspHover");},function(){bt.removeClass("jspHover");}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bW);bt.addClass("jspActive");var g=h.pageY-bt.position().top;d("html").bind("mousemove.jsp",function(i){a5(i.pageY-g,false);}).bind("mouseup.jsp mouseleave.jsp",bp);return false;});aR();}}function aR(){bA.height(aN+"px");bi=0;a3=bl.verticalGutter+bA.outerWidth();a2.width(bG-a3-a0);try{if(a6.position().left===0){a2.css("margin-left",a3+"px");}}catch(g){}}function s(){if(bT){bE.append(d('<div class="jspHorizontalBar" />').append(d('<div class="jspCap jspCapLeft" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragLeft" />'),d('<div class="jspDragRight" />'))),d('<div class="jspCap jspCapRight" />')));bD=bE.find(">.jspHorizontalBar");bm=bD.find(">.jspTrack");aY=bm.find(">.jspDrag");if(bl.showArrows){bn=d('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",bU(-1,0)).bind("click.jsp",bW);aJ=d('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",bU(1,0)).bind("click.jsp",bW);if(bl.arrowScrollOnHover){bn.bind("mouseover.jsp",bU(-1,0,bn));aJ.bind("mouseover.jsp",bU(1,0,aJ));}bF(bm,bl.horizontalArrowPositions,bn,aJ);}aY.hover(function(){aY.addClass("jspHover");},function(){aY.removeClass("jspHover");}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bW);aY.addClass("jspActive");var g=h.pageX-aY.position().left;d("html").bind("mousemove.jsp",function(i){a4(i.pageX-g,false);}).bind("mouseup.jsp mouseleave.jsp",bp);return false;});aU=bE.innerWidth();bI();}}function bI(){bE.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){aU-=d(this).outerWidth();});bm.width(aU+"px");bP=0;}function bo(){if(bT&&bj){var h=bm.outerHeight(),g=bA.outerWidth();aN-=h;d(bD).find(">.jspCap:visible,>.jspArrow").each(function(){aU+=d(this).outerWidth();});aU-=g;aL-=g;bG-=h;bm.parent().append(d('<div class="jspCorner" />').css("width",h+"px"));aR();bI();}if(bT){a2.width((bE.outerWidth()-a0)+"px");}a1=a2.outerHeight();aP=a1/aL;if(bT){bv=Math.ceil(1/aI*aU);if(bv>bl.horizontalDragMaxWidth){bv=bl.horizontalDragMaxWidth;}else{if(bv<bl.horizontalDragMinWidth){bv=bl.horizontalDragMinWidth;}}aY.width(bv+"px");aW=aU-bv;bL(bP);}if(bj){bx=Math.ceil(1/aP*aN);if(bx>bl.verticalDragMaxHeight){bx=bl.verticalDragMaxHeight;}else{if(bx<bl.verticalDragMinHeight){bx=bl.verticalDragMinHeight;}}bt.height(bx+"px");aX=aN-bx;bM(bi);}}function bF(l,j,m,h){var g="before",k="after",i;if(j=="os"){j=/Mac/.test(navigator.platform)?"after":"split";}if(j==g){k=j;}else{if(j==k){g=j;i=m;m=h;h=i;}}l[g](m)[k](h);}function bU(i,g,h){return function(){bk(i,g,this,h);this.blur();return false;};}function bk(k,l,g,i){g=d(g).addClass("jspActive");var j,m,n=true,h=function(){if(k!==0){ba.scrollByX(k*bl.arrowButtonSpeed);}if(l!==0){ba.scrollByY(l*bl.arrowButtonSpeed);}m=setTimeout(h,n?bl.initialDelay:bl.arrowRepeatFreq);n=false;};h();j=i?"mouseout.jsp":"mouseup.jsp";i=i||d("html");i.bind(j,function(){g.removeClass("jspActive");m&&clearTimeout(m);m=null;i.unbind(j);});}function aQ(){aK();if(bj){bA.bind("mousedown.jsp",function(i){if(i.originalTarget===f||i.originalTarget==i.currentTarget){var k=d(this),g=k.offset(),j=i.pageY-g.top-bi,m,n=true,h=function(){var p=k.offset(),o=i.pageY-p.top-bx/2,r=aL*bl.scrollPagePercent,q=aX*r/(a1-aL);if(j<0){if(bi-q>o){ba.scrollByY(-r);}else{a5(o);}}else{if(j>0){if(bi+q<o){ba.scrollByY(r);}else{a5(o);}}else{l();return;}}m=setTimeout(h,n?bl.initialDelay:bl.trackClickRepeatFreq);n=false;},l=function(){m&&clearTimeout(m);m=null;d(document).unbind("mouseup.jsp",l);};h();d(document).bind("mouseup.jsp",l);return false;}});}if(bT){bm.bind("mousedown.jsp",function(i){if(i.originalTarget===f||i.originalTarget==i.currentTarget){var k=d(this),g=k.offset(),j=i.pageX-g.left-bP,m,n=true,h=function(){var p=k.offset(),o=i.pageX-p.left-bv/2,r=bG*bl.scrollPagePercent,q=aW*r/(a7-bG);if(j<0){if(bP-q>o){ba.scrollByX(-r);}else{a4(o);}}else{if(j>0){if(bP+q<o){ba.scrollByX(r);}else{a4(o);}}else{l();return;}}m=setTimeout(h,n?bl.initialDelay:bl.trackClickRepeatFreq);n=false;},l=function(){m&&clearTimeout(m);m=null;d(document).unbind("mouseup.jsp",l);};h();d(document).bind("mouseup.jsp",l);return false;}});}}function aK(){if(bm){bm.unbind("mousedown.jsp");}if(bA){bA.unbind("mousedown.jsp");}}function bp(){d("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(bt){bt.removeClass("jspActive");}if(aY){aY.removeClass("jspActive");}}function a5(g,h){if(!bj){return;}if(g<0){g=0;}else{if(g>aX){g=aX;}}if(h===f){h=bl.animateScroll;}if(h){ba.animate(bt,"top",g,bM);}else{bt.css("top",g);bM(g);}}function bM(k){if(k===f){k=bt.position().top;}bE.scrollTop(0);bi=k;var h=bi===0,j=bi==aX,i=k/aX,g=-i*(a1-aL);if(bH!=h||bR!=j){bH=h;bR=j;bs.trigger("jsp-arrow-change",[bH,bR,bb,aV]);}aM(h,j);a2.css("top",g);bs.trigger("jsp-scroll-y",[-g,h,j]).trigger("scroll");}function a4(h,g){if(!bT){return;}if(h<0){h=0;}else{if(h>aW){h=aW;}}if(g===f){g=bl.animateScroll;}if(g){ba.animate(aY,"left",h,bL);}else{aY.css("left",h);bL(h);}}function bL(k){if(k===f){k=aY.position().left;}bE.scrollTop(0);bP=k;var h=bP===0,i=bP==aW,j=k/aW,g=-j*(a7-bG);if(bb!=h||aV!=i){bb=h;aV=i;bs.trigger("jsp-arrow-change",[bH,bR,bb,aV]);}aO(h,i);a2.css("left",g);bs.trigger("jsp-scroll-x",[-g,h,i]).trigger("scroll");}function aM(h,g){if(bl.showArrows){bz[h?"addClass":"removeClass"]("jspDisabled");bK[g?"addClass":"removeClass"]("jspDisabled");}}function aO(h,g){if(bl.showArrows){bn[h?"addClass":"removeClass"]("jspDisabled");aJ[g?"addClass":"removeClass"]("jspDisabled");}}function be(g,i){var h=g/(a1-aL);a5(h*aX,i);}function bd(i,g){var h=i/(a7-bG);a4(h*aW,g);}function bO(i,n,g){var q,u,t,v=0,j=0,h,o,p,l,m,k;try{q=d(i);}catch(r){return;}u=q.outerHeight();t=q.outerWidth();bE.scrollTop(0);bE.scrollLeft(0);while(!q.is(".jspPane")){v+=q.position().top;j+=q.position().left;q=q.offsetParent();if(/^body|html$/i.test(q[0].nodeName)){return;}}h=bX();p=h+aL;if(v<h||n){m=v-bl.verticalGutter;}else{if(v+u>p){m=v-aL+u+bl.verticalGutter;}}if(m){be(m,g);}o=bV();l=o+bG;if(j<o||n){k=j-bl.horizontalGutter;}else{if(j+t>l){k=j-bG+t+bl.horizontalGutter;}}if(k){bd(k,g);}}function bV(){return -a2.position().left;}function bX(){return -a2.position().top;}function bg(){var g=a1-aL;return(g>20)&&(g-bX()<10);}function bw(){var g=a7-bG;return(g>20)&&(g-bV()<10);}function bJ(){bE.unbind(bN).bind(bN,function(i,h,j,l){var k=bP,g=bi;ba.scrollBy(j*bl.mouseWheelSpeed,-l*bl.mouseWheelSpeed,false);return k==bP&&g==bi;});}function aS(){bE.unbind(bN);}function bW(){return false;}function bh(){a2.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(g){bO(g.target,false);});}function bq(){a2.find(":input,a").unbind("focus.jsp");}function a8(){var g,j,h=[];bT&&h.push(bD[0]);bj&&h.push(a6[0]);a2.focus(function(){bs.focus();});bs.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(k){if(k.target!==this&&!(h.length&&d(k.target).closest(h).length)){return;}var l=bP,m=bi;switch(k.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:g=k.keyCode;i();break;case 35:be(a1-aL);g=null;break;case 36:be(0);g=null;break;}j=k.keyCode==g&&l!=bP||m!=bi;return !j;}).bind("keypress.jsp",function(k){if(k.keyCode==g){i();}return !j;});if(bl.hideFocus){bs.css("outline","none");if("hideFocus" in bE[0]){bs.attr("hideFocus",true);}}else{bs.css("outline","");if("hideFocus" in bE[0]){bs.attr("hideFocus",false);}}function i(){var k=bP,l=bi;switch(g){case 40:ba.scrollByY(bl.keyboardSpeed,false);break;case 38:ba.scrollByY(-bl.keyboardSpeed,false);break;case 34:case 32:ba.scrollByY(aL*bl.scrollPagePercent,false);break;case 33:ba.scrollByY(-aL*bl.scrollPagePercent,false);break;case 39:ba.scrollByX(bl.keyboardSpeed,false);break;case 37:ba.scrollByX(-bl.keyboardSpeed,false);break;}j=k!=bP||l!=bi;return j;}}function a9(){bs.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp");}function bu(){if(location.hash&&location.hash.length>1){var h,j,i=escape(location.hash.substr(1));try{h=d("#"+i+', a[name="'+i+'"]');}catch(g){return;}if(h.length&&a2.find(i)){if(bE.scrollTop()===0){j=setInterval(function(){if(bE.scrollTop()>0){bO(h,true);d(document).scrollTop(bE.position().top);clearInterval(j);}},50);}else{bO(h,true);d(document).scrollTop(bE.position().top);}}}}function aT(){if(d(document.body).data("jspHijack")){return;}d(document.body).data("jspHijack",true);d(document.body).delegate("a[href*=#]","click",function(p){var h=this.href.substr(0,this.href.indexOf("#")),o=location.href,k,j,g,m,n,l;if(location.href.indexOf("#")!==-1){o=location.href.substr(0,location.href.indexOf("#"));}if(h!==o){return;}k=escape(this.href.substr(this.href.indexOf("#")+1));j;try{j=d("#"+k+', a[name="'+k+'"]');}catch(i){return;}if(!j.length){return;}g=j.closest(".jspScrollable");m=g.data("jsp");m.scrollToElement(j,true);if(g[0].scrollIntoView){n=d(e).scrollTop();l=j.offset().top;if(l<n||l>n+d(e).height()){g[0].scrollIntoView();}}p.preventDefault();});}function bC(){var k,l,i,j,h,g=false;bE.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(n){var m=n.originalEvent.touches[0];k=bV();l=bX();i=m.pageX;j=m.pageY;h=false;g=true;}).bind("touchmove.jsp",function(m){if(!g){return;}var n=m.originalEvent.touches[0],o=bP,p=bi;ba.scrollTo(k+i-n.pageX,l+j-n.pageY);h=h||Math.abs(i-n.pageX)>5||Math.abs(j-n.pageY)>5;return o==bP&&p==bi;}).bind("touchend.jsp",function(m){g=false;}).bind("click.jsp-touchclick",function(m){if(h){h=false;return false;}});}function aZ(){var g=bX(),h=bV();bs.removeClass("jspScrollable").unbind(".jsp");bs.replaceWith(bB.append(a2.children()));bB.scrollTop(g);bB.scrollLeft(h);if(br){clearInterval(br);}}d.extend(ba,{reinitialise:function(g){g=d.extend({},bl,g);by(g);},scrollToElement:function(h,i,g){bO(h,i,g);},scrollTo:function(h,g,i){bd(h,i);be(g,i);},scrollToX:function(h,g){bd(h,g);},scrollToY:function(g,h){be(g,h);},scrollToPercentX:function(h,g){bd(h*(a7-bG),g);},scrollToPercentY:function(h,g){be(h*(a1-aL),g);},scrollBy:function(i,g,h){ba.scrollByX(i,h);ba.scrollByY(g,h);},scrollByX:function(g,i){var j=bV()+Math[g<0?"floor":"ceil"](g),h=j/(a7-bG);a4(h*aW,i);},scrollByY:function(g,i){var j=bX()+Math[g<0?"floor":"ceil"](g),h=j/(a1-aL);a5(h*aX,i);},positionDragX:function(g,h){a4(g,h);},positionDragY:function(h,g){a5(h,g);},animate:function(k,h,g,i){var j={};j[h]=g;k.animate(j,{duration:bl.animateDuration,easing:bl.animateEase,queue:false,step:i});},getContentPositionX:function(){return bV();},getContentPositionY:function(){return bX();},getContentWidth:function(){return a7;},getContentHeight:function(){return a1;},getPercentScrolledX:function(){return bV()/(a7-bG);},getPercentScrolledY:function(){return bX()/(a1-aL);},getIsScrollableH:function(){return bT;},getIsScrollableV:function(){return bj;},getContentPane:function(){return a2;},scrollToBottom:function(g){a5(aX,g);},hijackInternalLinks:d.noop,destroy:function(){aZ();}});by(bc);}b=d.extend({},d.fn.jScrollPane.defaults,b);d.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=b[this]||b.speed;});return this.each(function(){var i=d(this),h=i.data("jsp");if(h){h.reinitialise(b);}else{h=new c(i,b);i.data("jsp",h);}});};d.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8};})(jQuery,this);(function(h){var i=true;h.fn.truncate=function(j){var k=h.extend({},h.fn.truncate.defaults,j);h(this).each(function(){var n=h.trim(b(h(this).text())).length;if(n<=k.max_length){return;}var o=k.max_length-k.more.length-1;var m=f(this,o);var l=h(this).hide();m.insertAfter(l);d(m).append(' <a href="#show-more">'+k.more+"</a>");c(l).append(' <a href="#show-less">'+k.less+"</a>");m.find("a:last").click(function(){m.hide();l.show();return false;});l.find("a:last").click(function(){m.show();l.hide();return false;});});};h.fn.truncate.defaults={max_length:100,more:"&gt;&gt; more",less:"&lt;&lt; less"};function f(j,k){return(j.nodeType==3)?g(j,k):e(j,k);}function e(j,m){var j=h(j);var l=j.clone().empty();var k;j.contents().each(function(){var n=m-l.text().length;if(n==0){return;}k=f(this,n);if(k){l.append(k);}});return l;}function g(j,l){var k=b(j.data);if(i){k=k.replace(/^ /,"");}i=!!k.match(/ $/);var k=k.slice(0,l);k=h("<div/>").text(k).html();return k;}function b(j){return j.replace(/\s+/g," ");}function d(l){var j=h(l);var k=j.children(":last");if(!k){return l;}var m=k.css("display");if(!m||m=="inline"){return j;}return d(k);}function c(l){var j=h(l);var k=j.children(":last");if(k&&k.is("p")){return k;}return l;}})(jQuery);jq(function(){function b(f,j){var d=this.carousel_ul_width=0;this.carousel_ul=f.find(".wrapper ul");this.carousel_li=this.carousel_ul.find("li");this.carousel_li.each(function(){var m=(isNaN(jq(this).css("margin-left").replace("px","")))?0:Number(jq(this).css("margin-left").replace("px",""));var k=(isNaN(jq(this).css("margin-right").replace("px","")))?0:Number(jq(this).css("margin-right").replace("px",""));var l=(isNaN(jq(this).css("padding-left").replace("px","")))?0:Number(jq(this).css("padding-left").replace("px",""));var i=(isNaN(jq(this).css("padding-right").replace("px","")))?0:Number(jq(this).css("padding-right").replace("px",""));d+=jq(this).width()+m+k+l+i;});this.carousel_ul_width=d;this.carousel_ul.width(this.carousel_ul_width);this.carousel_ul.css("left","0");this.carousel_ul_left=0;this.carousel_time_period=(j.time_period!=undefined&&typeof(j.time_period)=="number")?j.time_period:500;this.carousel_li_move_num=(j.li_per_move!=undefined&&typeof(j.li_per_move)=="number")?j.li_per_move:4;this.carousel_li_move_type=(j.li_move_type!=undefined&&((j.li_move_type).toUpperCase()=="NORMAL"||(j.li_move_type).toUpperCase()=="LINEAR"||(j.li_move_type).toUpperCase()=="CIRCULAR"))?(j.li_move_type).toUpperCase():"EMPTYCIRCULAR";this.carousel_autoScroll=(j.autoScroll!=undefined&&typeof(j.autoScroll)=="boolean")?j.autoScroll:false;this.carousel_autoScroll_direction=(j.autoScroll_direction!=undefined&&(j.autoScroll_direction).toUpperCase()=="LEFT")?(j.autoScroll_direction).toUpperCase():"RIGHT";this.carousel_autoScroll_time_period=(j.autoScroll_time_period!=undefined&&typeof(j.autoScroll_time_period)=="number")?j.autoScroll_time_period:500;this.carousel_li_width=this.carousel_ul_width/this.carousel_li.length;this.carousel_move_per_click=this.carousel_li_width*this.carousel_li_move_num;this.carousel_last_move_pos=((this.carousel_ul_width%this.carousel_move_per_click)==0)?(-this.carousel_ul_width+this.carousel_move_per_click):(-this.carousel_ul_width+(this.carousel_ul_width%this.carousel_move_per_click));this.curr_scroll_dir="left";if(this.carousel_li_move_type=="EMPTYCIRCULAR"&&(this.carousel_ul_width%this.carousel_move_per_click)!=0){var c=this.carousel_move_per_click-(this.carousel_ul_width%this.carousel_move_per_click);var g=c/this.carousel_li_width;for(var e=0;e<g;e++){this.carousel_li.eq(this.carousel_li.length-1).after("<li></li>");}this.carousel_ul_width+=c;this.carousel_ul.width(this.carousel_ul_width);this.carousel_li=this.carousel_ul.find("li");this.carousel_last_move_pos=-this.carousel_ul_width+this.carousel_move_per_click;}this.carousel_autoScroll_hover=false;this.carousel_ul_animation_flag=false;if(this.carousel_li_move_type=="CIRCULAR"||this.carousel_li_move_type=="EMPTYCIRCULAR"){this.carousel_last_move_shift=this.carousel_ul_width%this.carousel_move_per_click;this.adjust_carousel_li=function(n){if(n.curr_scroll_dir=="left"&&n.carousel_ul_left==n.carousel_move_per_click){for(var l=0;l<n.carousel_li_move_num;l++){var k=(typeof(k)=="undefined")?n.carousel_li.eq(0):k;n.carousel_li.eq(n.carousel_li.length-(1+l)).insertBefore(k);k=n.carousel_li.eq(n.carousel_li.length-(1+l));}n.carousel_ul.css("left",-n.carousel_move_per_click);n.carousel_ul_left=0;}else{if(n.curr_scroll_dir=="right"&&(n.carousel_ul_left<=n.carousel_last_move_pos)&&(n.carousel_last_move_shift!=0||n.carousel_ul_left==-n.carousel_ul_width)){for(var l=0;l<n.carousel_li_move_num;l++){var m=(typeof(m)=="undefined")?n.carousel_li.eq(n.carousel_li.length-1):m;n.carousel_li.eq(l).insertAfter(m);m=n.carousel_li.eq(l);}if(n.carousel_last_move_shift==0){n.left_pos_to_set=n.carousel_last_move_pos+n.carousel_move_per_click;n.carousel_ul_left=n.carousel_last_move_pos;}else{n.left_pos_to_set=n.carousel_last_move_pos+n.carousel_move_per_click*2;n.carousel_ul_left=n.carousel_last_move_pos+n.carousel_move_per_click;}n.carousel_ul.css("left",n.left_pos_to_set);}}n.carousel_li=n.carousel_ul.find("li");};}this.find_carousel_position=function(i){if(i.carousel_li_move_type=="NORMAL"){if(i.curr_scroll_dir=="left"){i.carousel_ul_left=(i.carousel_ul_left==0)?i.carousel_last_move_pos:(i.carousel_move_per_click+i.carousel_ul_left);}else{if(i.curr_scroll_dir=="right"){i.carousel_ul_left=(i.carousel_ul_left==i.carousel_last_move_pos)?0:(-i.carousel_move_per_click+i.carousel_ul_left);}}}else{if(i.carousel_li_move_type=="CIRCULAR"||this.carousel_li_move_type=="EMPTYCIRCULAR"){if(i.curr_scroll_dir=="left"){i.carousel_ul_left=i.carousel_move_per_click+i.carousel_ul_left;}else{if(i.curr_scroll_dir=="right"){i.carousel_ul_left=-i.carousel_move_per_click+i.carousel_ul_left;}}i.adjust_carousel_li(i);}else{if(i.carousel_li_move_type=="LINEAR"){if(i.curr_scroll_dir=="left"){if((i.carousel_move_per_click+i.carousel_ul_left)>=0){i.carousel_autoScroll_direction="RIGHT";}i.carousel_ul_left=((i.carousel_move_per_click+i.carousel_ul_left)>=0)?0:(i.carousel_move_per_click+i.carousel_ul_left);}else{if(i.curr_scroll_dir=="right"){if((-i.carousel_move_per_click+i.carousel_ul_left)<=(-i.carousel_ul_width+i.carousel_move_per_click)){i.carousel_autoScroll_direction="LEFT";}i.carousel_ul_left=((-i.carousel_move_per_click+i.carousel_ul_left)<=(-i.carousel_ul_width+i.carousel_move_per_click))?(-i.carousel_ul_width+i.carousel_move_per_click):(-i.carousel_move_per_click+i.carousel_ul_left);}}}}}};this.move_carousel_left=function(i){i.carousel_ul_animation_flag=true;i.curr_scroll_dir="left";i.find_carousel_position(i);i.move_carousel(i);if(i.carousel_autoScroll){clearTimeout(i.clearTimer);}};this.move_carousel_right=function(i){i.carousel_ul_animation_flag=true;i.curr_scroll_dir="right";i.find_carousel_position(i);i.move_carousel(i);if(i.carousel_autoScroll){clearTimeout(i.clearTimer);}};this.move_carousel=function(i){if(i.carousel_autoScroll){i.right_carousel.addClass("disabled");i.left_carousel.addClass("disabled");}i.carousel_lazy_loading(i);i.carousel_ul.animate({left:i.carousel_ul_left},i.carousel_time_period,"swing",function(){i.carousel_ul_animation_flag=false;i.right_carousel.removeClass("disabled");i.left_carousel.removeClass("disabled");if(i.carousel_autoScroll&&!i.carousel_autoScroll_hover){i.start_autoScroll(i);}});};this.carousel_lazy_loading=function(n){var k=-n.carousel_ul_left/n.carousel_li_width;for(var m=k;m<n.carousel_li_move_num+k;m++){var l=n.carousel_li.eq(m).find("img.lazy_img").filter(":first");if(l.length>0){l.attr("src",l.attr("data-original"));l.removeAttr("data-original");l.removeClass("lazy_img");}}};var h=this;this.left_carousel=f.find(".left_carousel").filter(":first");this.right_carousel=f.find(".right_carousel").filter(":first");if(this.carousel_li.length<=this.carousel_li_move_num){this.left_carousel.hide();this.right_carousel.hide();}else{this.left_carousel.show();this.right_carousel.show();}this.left_carousel.each(function(i,k){jq.data(k,"myData",h);});this.right_carousel.each(function(i,k){jq.data(k,"myData",h);});this.left_carousel.click(function(){var i=jq.data(this,"myData");if(jq(this).hasClass("disabled")){return;}jq(this).addClass("disabled");i.move_carousel_left(i);});this.right_carousel.click(function(){var i=jq.data(this,"myData");if(jq(this).hasClass("disabled")){return;}jq(this).addClass("disabled");i.move_carousel_right(i);});this.start_autoScroll=function(i){if(i.carousel_autoScroll_direction=="RIGHT"){i.clearTimer=setTimeout(function(){i.move_carousel_right(i);},i.carousel_autoScroll_time_period);}else{i.clearTimer=setTimeout(function(){i.move_carousel_left(i);},i.carousel_autoScroll_time_period);}};f.each(function(i,k){jq.data(k,"myData",h);});if(this.carousel_autoScroll){this.carousel_autoScroll_hover=false;this.start_autoScroll(this);f.hover(function(){var i=jq.data(this,"myData");i.carousel_autoScroll_hover=true;if(!i.carousel_ul_animation_flag){clearTimeout(i.clearTimer);}},function(){var i=jq.data(this,"myData");i.carousel_autoScroll_hover=false;if(!i.carousel_ul_animation_flag){i.start_autoScroll(i);}});}}jq.fn.infiniteCarousel=function(c){c=(typeof(c)=="undefined")?{}:c;jq(this).each(function(d,e){new b(jq(this),c);});};});var globprefix;var slides="";var next=0;var nxt=0;var slideTimer="";function fnCheckData(c){try{xmlData2=c.replace(new RegExp("&","gi"),"&amp;");var g;if(window.ActiveXObject){g=new ActiveXObject("Microsoft.XMLDOM");g.loadXML(xmlData2);}else{var d=new DOMParser();g=d.parseFromString(xmlData2,"text/xml");}xmlData2=g;var b=xmlData2.getElementsByTagName("item");fnVenueXml(xmlData2);}catch(f){fnErr({fnName:"fnCheckData",fnParams:c,err:f});}}function fnInitSlider(c,f){try{var d=c+"&t="+new Date().getTime();var b="/getHTML.bms?cmd=GETBAN&pg="+f;fnAjax({url:d,type:"GET",dataType:"text",success:function(e){fnCheckData(e);},error:function(e,i,h){if(e.status==404){if(c==b){return;}else{fnInitSlider(b,f);}}}});if(slides!=1){jq("#bHld").css("display","block");fnRepeatSlider(next+1,slides);}else{jq("#bHld").css("display","none");return;}}catch(g){fnErr({fnName:"fnInitSlider",fnParams:c+","+f,err:g});}}function fnRepeatSlider(){try{if(slides!=1){var b=function(){fnSlide(next+1,slides);};clearInterval(slideTimer);slideTimer=setInterval(b,5000);}else{return false;}}catch(c){fnErr({fnName:"fnRepeatSlider",err:c});}}function fnSlide(c,d){try{var g=jq("#SlWrap > .Slide").find("img.l8r").eq(c);g.attr("src",g.attr("data"));g.removeAttr("data");jq("#bHld").children(".blt").removeClass("SelBlt");next=c;if(next==d){next=c=0;}jq("#SlWrap").children(".Slide.actv").find(".txtHld").children().fadeOut(300);jq("#SlWrap").children(".Slide.actv").removeClass("actv").css("display","none");jq("#bHld").children(".blt").eq(next).addClass("SelBlt");var b=jq(".Slide").eq(next);b.addClass("actv");b.fadeIn(500,function(){b.children(".txtHld").children().fadeIn(500);});}catch(f){fnErr({fnName:"fnSlide",fnParams:c+","+d,err:f});}}function fnVenueXml(m){try{var B="";var k="";var g=0;var s=m.getElementsByTagName("item");slides=s.length;for(a=0;a<slides;a++){var b=s[a];var j=b.getElementsByTagName("name")[0].childNodes[0].nodeValue;var t=b.getElementsByTagName("content")[0].childNodes[0].nodeValue;var q=b.getElementsByTagName("image")[0].childNodes[0].nodeValue;var n=b.getElementsByTagName("btntxt")[0].childNodes[0].nodeValue;var h=b.getElementsByTagName("url")[0].childNodes[0].nodeValue;var A=b.getElementsByTagName("target")[0].childNodes[0].nodeValue;var d="http://cnt.in.bookmyshow.com/events-plays/s/loading.gif";var c;var f=h.split("?")[0];var z=f.replace(/^\/|\/$/g,"");var y=z.replace(/-/g," ");var w=y.replace(/\//g," - ");B+='<div class="Slide">';B+='<img class= "l8r" src="" alt="'+j+'" data="'+q+""+(typeof(iv)!=="undefined"?("?"+iv):"")+'" title="'+t+'" height="250" width="620" />';B+='<div class="txtHld">';B+='<div class="fleft">';B+="<h4>"+j+"</h4>";B+="<p>"+t+"</p>";B+="</div>";var o=h.replace("?","&").replace("&&","&").replace("&amp;","&").split("&");for(var u=0;u<o.length;u++){var r=o[u].split("=");if(r[0]=="utm_source"){c=(r[1]);}}B+='<a class="button yellow" href="'+h+'" target="'+A+"\" onclick=\"ga('send', 'event', 'Banners', '"+globprefix+" banner click','"+w+"','"+(a+1)+"'); \">"+n+"</a>";B+="</div>";B+="</div>";k+='<div class="blt"></div>';}jq("#bHld").children(".blt").eq(0).addClass("SelBlt");jq("#SlWrap").children(".Slide").eq(0).show();jq(".txtHld").css({left:"0",opacity:"1"});jq("#SlWrap").html(B);jq("#bHld").html(k);var l=jq("#SlWrap > .Slide").find("img.l8r").eq(0);l.attr("src",l.attr("data"));l.removeAttr("data");fnSlide(g,slides);}catch(x){fnErr({fnName:"fnVenueXml",fnParams:m,err:x});}}function fnXml(c){try{var g=fnGRgn().toLowerCase();var d=((c==""||c==undefined)?"home":c.toLowerCase());globprefix=d;var b;if(g==""||g=="all"){b="/getHTML.bms?cmd=GETBAN&pg="+d;}else{b="/getHTML.bms?cmd=GETBAN&rgn="+g+"&pg="+d;}fnInitSlider(b,d);jq("body").delegate(".blt","click",function(){f=jq(this).index();if(!jq("#bHld").children().eq(f).hasClass("SelBlt")){fnSlide(f);}else{return false;}});jq("#SlidCont").on({mouseenter:function(){clearInterval(slideTimer);},mouseleave:function(){fnRepeatSlider();}});}catch(f){fnErr({fnName:"fnXml",fnParams:c,err:f});}}function fnInitWebSkin(b,d){try{globprefix=d;var c=b+"&t="+new Date().getTime();fnAjax({type:"GET",url:c,dataType:"text",success:function(e){fnVenueWebSkinXml(e);},error:function(e,h,g){jq("#wbhome").hide();}});}catch(f){fnErr({fnName:"fnInitWebSkin",fnParams:b+","+d,err:f});}}function fnVenueWebSkinXml(c){try{var d=jq(jq.parseXML(c)).find("item:eq(0)");var b=d.find("url").text().split("?")[0].replace(/^\/|\/$/g,"").replace(/-/g," ").replace(/\//g," - ");if(d.length>0){jq("body").css({background:"url('"+d.find("image").text()+"') no-repeat fixed center top"+((jq.trim(d.find("name").text())!="")?("#"+jq.trim(d.find("name").text())):"")});jq("#wbhome").hide();jq(".skimain").css({marginTop:"58px"});jq(".skimnhed").css({top:"-98px"});jq(".skintfmn").css({background:"#efefef",height:"35px"});jq(".hdstripe").css({background:"url(http://cnt.in.bookmyshow.com/bmsin/new/footer_stripe.png)",top:"-65px",position:"relative",width:"100%",height:"6px"});if(jq.trim(d.find("url").text())!=""){jq("#wbhome").show();jq(".regSkin").attr({href:d.find("url").text(),target:d.find("target").text(),onclick:"ga('send', 'event', 'Banners', '"+globprefix+" Skin click','"+b+"')"});}if(jq("#dHideInstaBook").is(":visible")){jq("#dHideInstaBook").css({left:jq(".topsec").offset().left,top:jq(".topsec").offset().top});}}}catch(f){fnErr({fnName:"fnVenueWebSkinXml",fnParams:c,err:f});}}function fnWebSkinXml(c){try{var g=fnGRgn().toLowerCase();var d=((c==""||c==undefined)?"home":c.toLowerCase());var b;if(g==""||g=="all"){b="/getHTML.bms?cmd=GETBAN&pg="+d;}else{b="/getHTML.bms?cmd=GETBAN&rgn="+g+"&pg="+d;}fnInitWebSkin(b,d);}catch(f){fnErr({fnName:"fnXml",fnParams:c,err:f});}}var strTitleLn=35;var NSCSTitleLn=30;function fnBanner(f){try{var b=fnGRgn();if(b==""){b="ALL";}else{var d=["MCENT","MWEST","THAN","KALYAN","ULHA"];var c=["DELHI","GURG","NOIDA","GHAZ","FARI"];if(jq.inArray(b,d)!=-1){b="MUMBAI";}else{if(jq.inArray(b,c)!=-1){b="NCR";}}}fnAjax({data:"cmd=RGNBANNER&rgn="+b+"&mvcnt=6",dataType:"json",success:function(m){var n="";for(var k=0;k<m.length;k++){var h=(m[k]["RegionED_strRedirectUrl"]).split("?")[0];var l=h.replace(/^\/|\/$/g,"");var i=l.replace(/-/g," ");var e=i.replace(/\//g," - ");n+='<div class="StbBo">';n+='<a href="';(m[k]["RegionED_strRedirectUrl"]=="")?n+="javascript:;":n+=m[k]["RegionED_strRedirectUrl"];n+="\" onclick=\"ga('send', 'event', 'Banners', 'home sub-banner click','"+e+"');\">";n+='<div class="stimg"><img alt="'+m[k]["Event_strTitle"]+'" height="100"  src="http://cnt.in.bookmyshow.com/Events/EventBanner/'+m[k]["ID"]+".jpg"+(typeof(iv)!=="undefined"?("?"+iv):"")+'" onerror="this.src=\'http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg?v1\'"/></div>';if(m[k]["Event_strTitle"]==""||m[k]["Event_strTitle"]==undefined){n+='<div class="stEvn"></div>';}else{n+='<div class="stEvn">'+m[k]["Event_strTitle"]+"</div>";}n+='<div class="stEct"><span>'+m[k]["Event_strEventDates"]+"</span><br />";(m[k]["EventLocation"]==""||m[k]["EventLocation"]==undefined)?n+="</div>":n+=m[k]["EventLocation"]+"</div>";n+="</a>";n+='<div class="ban_inrTxt">';n+="<p>"+m[k]["EventDetails"]+"</p>";n+='<a href="';(m[k]["RegionED_strRedirectUrl"]=="")?n+="javascript:;":n+=m[k]["RegionED_strRedirectUrl"];n+='" class="button yellow">';(m[k]["ButtonText"]=="")?n+="Coming Soon":n+=m[k]["ButtonText"];n+="</a>";n+="</div>";n+="</div>";n+="</div>";}if(n==""){jq("#splEvnts").html(n).hide();}else{jq("#splEvnts").html(n).show();}jq("#splEvnts .StbBo").on("click",function(){fnGATracker({location:"6banners",action:"buytickets"});});},url:"/getHTML.bms"});}catch(g){fnErr({fnName:"fnBanner",fnParams:mvCnt,err:g});}}function fnChkVal(f,b){try{if(b==null){return true;}var c=false;if(jq.inArray(f,b)==-1){c=true;}return c;}catch(d){fnErr({fnName:"fnChkVal",fnParams:f+", "+obj,err:d});}}var regionText=new clsCookie({name:"Rgn"});regionText=fnUrlName(regionText.get({key:"text"})).toLowerCase();if(typeof(blnIsRegionRouting)!=="undefined"&&blnIsRegionRouting==true){regionText="/"+regionText;}else{if(regionText!=""){regionText="/"+regionText;}else{regionText="";}}function fnCS(d){try{var c=30;((d==undefined)?"":d);if(jq("#cmgSoonDiv").html()!=""){}else{jq("#cmgSoonDiv").html('<img alt="Loading Movies" style="margin-top:25%;margin-left:50%;"  src="http://cnt.in.bookmyshow.com/bmsin/common/loader.gif">');fnAjax({data:"cmd=MOVIESCS&mvcnt="+d,dataType:"json",success:function(i){var f="<ul>";var e=0;for(var g=0;g<i.length;g++){if(fnChkVal(fnGRgn(),i[g]["Region"])){f+="<li>";f+='<div class="tabblock">';var h=i[g]["ShowDate"].split(",");if(e<4){f+='<a title="'+i[g]["EventName"]+'" href="'+regionText+"/movies/"+i[g]["EventURL"]+"/"+i[g]["EventCode"]+'"><img id=imgli'+g+' title="'+i[g]["EventName"]+'" alt="'+i[g]["EventName"]+'" height="195" width="130" src="http://cnt.in.bookmyshow.com/Events/Large/'+i[g]["EventCode"]+'.jpg" onerror="this.src=\'http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg\'"/><div class="reldate">'+h[0]+"</div></a>";}else{f+='<a title="'+i[g]["EventName"]+'" href="'+regionText+"/movies/"+i[g]["EventURL"]+"/"+i[g]["EventCode"]+'"><img id=imgli'+g+' title="'+i[g]["EventName"]+'" alt="'+i[g]["EventName"]+'" height="195" width="130" data-original="http://cnt.in.bookmyshow.com/Events/Large/'+i[g]["EventCode"]+'.jpg" src="http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg?v1" class="lazy_img" onerror="this.src=\'http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg?v1\'"/><div class="reldate">'+h[0]+"</div></a>";}e++;f+='<div class="hometabdet">';f+='<a title="'+i[g]["EventName"]+'" href="'+regionText+"/movies/"+i[g]["EventURL"]+"/"+i[g]["EventCode"]+'">'+((i[g]["EventName"].length>c)?i[g]["EventName"].substring(0,c)+"...":i[g]["EventName"])+"</a>";f+='<div class="fleft wt57" style="width:130px;">';if(i[g]["LikePerC"]==0){f+='<span class="wseewh wseesm " title="'+i[g]["LikePerC"]+"% people out of "+i[g]["TotalCount"]+' are interested in watching this movie."><span class="thsm ratngTxtGrey">NR</span></span>';}else{if(i[g]["LikePerC"]<50){f+='<span class="wseewh wseesm ratngRed" title="'+i[g]["LikePerC"]+"% people out of "+i[g]["TotalCount"]+' are interested in watching this movie."><span class="thsm ratngTxtRed">'+i[g]["LikePerC"]+"</span></span>";}else{f+='<span class="wseewh wseesm ratngGreen" title="'+i[g]["LikePerC"]+"% people out of "+i[g]["TotalCount"]+' are interested in watching this movie."><span class="thsm ratngTxtGreen">'+i[g]["LikePerC"]+"</span></span>";}}f+='<span style="margin-top:20px; text-align:left; padding-left:3px;" class="fleft" title="'+i[g]["LikePerC"]+"% people out of "+i[g]["TotalCount"]+' are interested in watching this movie."><strong>%</strong><br/>Want to see</span>';f+="</div>";f+="</div>";f+="</div>";f+="</li>";}}f+="</ul>";if(f=="<ul></ul>"||f==""){jq("#cmgSoonDiv").html('<li><div style="text-align: center; margin-top: 100px; font-size: 20px;">No Movies in the Selected Region</div></li>');jq("#coming > .left_carousel,.right_carousel").hide();}else{jq("#cmgSoonDiv").html(f);jq("#coming").infiniteCarousel();if(i.length<5){jq("#coming > .left_carousel,.right_carousel").hide();}else{jq("#coming > .left_carousel,.right_carousel").show();}}},url:global.ajHTML});}}catch(b){fnErr({fnName:"fnCS",fnParams:d,err:b});}}function fnInstSp(){try{fnOcCriteria("ET","SP");}catch(b){fnErr({fnName:"fnInstSp",err:b});}}function fnChngDateQB(b,c){try{jq("#recmd_qb_"+c+" #show_qb_days").children().css({padding:"0 3px",color:"#585858","font-weight":"500"});jq("#recmd_qb_"+c+"  #btn_qb_"+b+"").css({padding:"0 3px",color:"#d81b22","font-weight":"500"});jq("#recmd_qb_"+c+"  #show_time_qb").children().hide();jq("#recmd_qb_"+c+"  #show_time_qb #div_qb_"+b).fadeIn();}catch(d){fnErr({fnName:"fnChngDateQB",err:d});}}function fnChngDateNS(b,c){try{jq("#recmd_"+c+" #show_days").children().css({padding:"0 3px",color:"#585858","font-weight":"500"});jq("#recmd_"+c+"  #btn_"+b+"").css({padding:"0 3px",color:"#d81b22","font-weight":"500"});jq("#recmd_"+c+"  #show_time").children().hide();jq("#recmd_"+c+"  #show_time #div_"+b).fadeIn();}catch(d){fnErr({fnName:"fnChngDateNS",err:d});}}var strClickFlag=0;function fnPushDataToGA(w,f,v,n,i,u,m,r,j,p,l,h,g,o,k,b,q){try{if(q==-1){ga("send","event","Home","Clicked in "+h,q);}else{var t=new Date();var c=t.getHours();ga("send","event","Recommendations","Clicked in "+h,c);ga("send","event","Home","Clicked in "+h,q);fnPushEventDataToAnalytics(["WR","KM"],"Clicked recommendation",{ProductID:w,"Event Type":f,"Event Name":v,"Venue Name":n,"Event Day":i,"Logged in Home":(new clsCookie().get({name:"ld",key:"MEMBEREMAIL"})!=""?"Yes":"No"),"Show time":m,"Event Date":r,"Sequence of recomendation":((o=="Multiple")?j:o),"Sequence of date":((k=="Multiple")?p:k),"Sequence of showtime":((b=="Multiple")?l:b),"Position of reco":h,Trigger:g,Appcode:global.AppC,"Variation Id":""+q+""});}}catch(s){fnErr({fnName:"fnPushDataToGA",err:s});}}function fnTrnd(){try{var g=0;var d="true";var i=30;var b=fnGRgn();if(b==""){b="ALL";}else{var f=["MCENT","MWEST","THAN","KALYAN","ULHA"];var c=["DELHI","GURG","NOIDA","GHAZ","FARI"];if(jq.inArray(b,f)!=-1){b="MUMBAI";}else{if(jq.inArray(b,c)!=-1){b="NCR";}}}jq("#trndData").html('<img alt="Loading Movies" style="margin-top:25%;margin-left:50%;" src="http://cnt.in.bookmyshow.com/bmsin/common/loader.gif">');fnAjax({data:"cmd=TREND&rgn="+b,dataType:"json",success:function(E){var u=0;for(var t=0;t<E.length;t++){if(E[t].IsPersonalized==1){u++;}else{break;}}u=(u==1)?"Only One":((u>1)?"Multiple":"No Recommendation");var e="<ul>";for(var A=0;A<E.length;A++){var y=((E[A].IsPersonalized==1)?((typeof intExpVal!=="undefined")&&intExpVal==0):false);if(y){g++;if(d=="true"){var D=new Date();var o=D.getHours();ga("send","event","Recommendations","Seen in Now Showing",o);d="false";}e+='<li class="recDiv">';}else{e+="<li>";}e+='<div class="tabblock">';if(E[A]["IsAtmosEnabled"]=="Y"){e+='<a href="/static/dolby-atmos-tickets/" target="_blank"><img style="left: 3px;position: absolute;top: 3px;" src=http://cnt.in.bookmyshow.com/bmsin/static/atmos/dolby-atmos3.png></a>';e+='<div id="Isatm_'+E[A]["EventCode"]+'" class="regtip">';e+="<div>In select theatres</div>";e+='<div class="ic-arrat arrat"></div>';e+="</div>";}if(A<4){if(y){e+='<div id="wrapper_'+E[A]["EventCode"]+'" class="recmd_hover" data-id="'+E[A]["EventCode"]+'">';e+='<div style ="cursor:pointer;" class="recCnt" id="recCnt_'+E[A]["EventCode"]+'"><a href="'+regionText+"/movies/"+E[A]["EventURL"]+"/"+E[A]["EventCode"]+'"><img id=imgli'+A+' title="'+E[A]["EventName"]+'"alt="'+E[A]["EventName"]+'" height="195" width="130" src="http://cnt.in.bookmyshow.com/Events/Large/'+E[A]["EventCode"]+'.jpg" onerror="this.src=\'http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg?v1\'"/><span class="recLabel">RECOMMENDED FOR YOU</span></a></div><div id="recmd_'+E[A]["EventCode"]+'" style="display: none;background-color:#fff;" class="recInnerText"><span class="recLabel" style="padding:2px 5px;">RECOMMENDED FOR YOU</span><a title="'+E[A]["EventName"]+'" href="/movies/'+E[A]["EventURL"]+"/"+E[A]["EventCode"]+'" onclick=\'fnPushDataToGA("'+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'","'+E[A]["QuickBook"]["VenueName"]+'","","Yes","","","'+g+'","","","Now Showing Recommended","Event name","'+u+'","","","'+intExpVal+'");\'><div class="recmd_ns_eventname">'+E[A]["EventName"]+'</div></a><a title="'+E[A]["QuickBook"]["VenueName"]+'" href="/cinemas/'+E[A]["QuickBook"]["VenueUrl"]+"/"+E[A]["QuickBook"]["VenueCode"]+'" onclick=\'fnPushDataToGA("'+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'","'+E[A]["QuickBook"]["VenueName"]+'","","Yes","","","'+g+'","","","Now Showing Recommended","Venue Name","'+u+'","","","'+intExpVal+'");\' ><div class="recmd_ns_venuename">'+E[A]["QuickBook"]["VenueName"]+"</div></a>";e+='<div style="text-align: left; color: red; padding: 0px 5px;">';var w=new Array(2);var r=[];for(var l in E[A]["QuickBook"]["Dates"]){if(E[A]["QuickBook"]["Dates"].hasOwnProperty(l)){r.push(l);}}if(r!=0&&r.length>0){for(var B=0;B<r.length;B++){w[B]=E[A]["QuickBook"]["Dates"][r[B]][0]["DisplayShowDay"];}e+='<div id="show_days" style="margin: 15px 0px;"><span onclick="fnChngDateNS(\''+r[0]+"','"+E[A]["EventCode"]+'\');" id="btn_'+r[0]+'" style="text-transform: uppercase;cursor:pointer ;padding:0 3px;color:#d81b22; font-weight: 500;">'+w[0]+"</span>";if(r.length>1){e+=" | <span onclick=\"fnChngDateNS('"+r[1]+"','"+E[A]["EventCode"]+'\');" id="btn_'+r[1]+'" style="text-transform: uppercase;cursor:pointer ;padding:0 3px;color:#585858; font-weight: 500;">'+w[1]+"</span>";}e+="</div>";}e+="</div>";var C=0;if(typeof E[A]["QuickBook"]["Dates"]!=="undefined"){for(var n in E[A]["QuickBook"]["Dates"]){C++;}}var s=(C==1)?"Only One":"Multiple";if(C>0){e+='<div id="show_time">';for(var z=0;z<C;z++){if(z==0){e+='<div id="div_'+r[z]+'" style=" float: left;display:block;">';}else{e+='<div id="div_'+r[z]+'" style=" float: left;display:none;">';}var m=(E[A]["QuickBook"]["Dates"][r[z]].length==1)?"Only One":"Multiple";for(var B=0;B<E[A]["QuickBook"]["Dates"][r[z]].length;B++){if(E[A]["QuickBook"]["Dates"][r[z]][B]["IsCutOffArrived"]=="false"){e+='<a id="div_st_'+E[A]["QuickBook"]["Dates"][r[z]][B]["SessionId"]+'" class="recShowTime" href="/booktickets/'+E[A]["QuickBook"]["VenueCode"]+"/"+E[A]["QuickBook"]["Dates"][r[z]][B]["SessionId"]+'/MT" onclick=\'fnPushDataToGA("'+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'","'+E[A]["QuickBook"]["VenueName"]+'","'+E[A]["QuickBook"]["Dates"][r[z]][B]["DateDifference"]+'","Yes","'+E[A]["QuickBook"]["Dates"][r[z]][B]["DisplayShowTime"]+'","'+E[A]["QuickBook"]["Dates"][r[z]][B]["DisplayShowDate"]+'","'+g+'","'+(z+1)+'","'+(B+1)+'","Now Showing Recommended","Show Time","'+u+'","'+s+'","'+m+'","'+intExpVal+"\");'>"+E[A]["QuickBook"]["Dates"][r[z]][B]["DisplayShowTime"]+"</a>";}}m="";var q=new clsCookie(),x=q.get({name:"Rgn",key:"Code"}),v=q.get({name:"Rgn",key:"text"});e+='<div style="float:right;position:absolute;right:0;margin-top:15px; margin-right:10px;"><a onclick=\'fnPushDataToGA("'+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'","'+E[A]["QuickBook"]["VenueName"]+'","","Yes","","","'+g+'","","","Now Showing Recommended","More Showtimes","'+u+'","","","'+intExpVal+'");\' href="/buytickets/'+E[A]["EventURL"]+"-"+fnUrlName(v.toLowerCase())+"/movie-"+x.toLowerCase()+"-"+E[A]["EventCode"]+"-MT/"+r[z]+'">more...</a></div>';e+="</div>";}e+="</div>";}e+="</div>";e+="</div>";}else{e+="<a onclick= 'fnPushDataToGA(\""+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'", "", "", "", "", "", "", "", "", "Now Showing Not Recommended", "Banner", "", "", "", "'+intExpVal+'");\' href="'+regionText+"/movies/"+fnUrlName(E[A]["EventName"])+"/"+E[A]["EventCode"]+'">';e+="<img id=imgli"+A+' title="'+E[A]["EventName"]+'"alt="'+E[A]["EventName"]+'" height="195" width="130" src="http://cnt.in.bookmyshow.com/Events/Large/'+E[A]["EventCode"]+'.jpg" onerror="this.src=\'http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg?v1\'"/></a>';}e+="</a>";}else{e+="<a onclick= 'fnPushDataToGA(\""+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'", "", "", "", "", "", "", "", "", "Now Showing Not Recommended", "Banner", "", "", "", "'+intExpVal+'");\' href="'+regionText+"/movies/"+E[A]["EventURL"]+"/"+E[A]["EventCode"]+'">';e+="<img id=imgli"+A+' title="'+E[A]["EventName"]+'"alt="'+E[A]["EventName"]+'" height="195" width="130" src="http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg" data-original="http://cnt.in.bookmyshow.com/Events/Large/'+E[A]["EventCode"]+'.jpg" class="lazy_img" onerror="this.src=\'http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg?v1\'"/>';e+="</a>";}if(y){e+="<a onclick= 'fnByLink(\""+E[A]["EventCode"]+'","'+E[A]["EventURL"]+'"); fnPushDataToGA("'+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'", "", "", "", "", "", "", "", "", "Now Showing Recommended", "Buy Tickets", "", "", "", "'+intExpVal+'");\' class="button yellow mt5" id="buy_'+E[A]["EventCode"]+'" title="Book '+E[A]["EventName"]+' - Movie Tickets" href="javascript:;" onClick=\'fnByLink("'+E[A]["EventCode"]+'","'+E[A]["EventURL"]+"\");'>Buy Tickets</a>";}else{e+='<a class="button yellow mt5" id="buy_'+E[A]["EventCode"]+'" title="Book '+E[A]["EventName"]+' - Movie Tickets" href="javascript:;" onClick=\'fnByLink("'+E[A]["EventCode"]+'","'+E[A]["EventURL"]+'"); fnPushDataToGA("'+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'", "", "", "", "", "", "", "", "", "Now Showing Not Recommended", "Buy Tickets", "", "", "", "'+intExpVal+'");\' class="button yellow mt5" id="buy_'+E[A]["EventCode"]+'" title="Book '+E[A]["EventName"]+' - Movie Tickets" href="javascript:;" onClick=\'fnByLink("'+E[A]["EventCode"]+'","'+E[A]["EventURL"]+"\");'>Buy Tickets</a>";}e+='<div class="hometabdet">';if(y){e+="<a onclick= 'fnPushDataToGA(\""+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'", "", "", "", "", "", "", "", "", "Now Showing Recommended", "Event Name", "", "", "", "'+intExpVal+'");\' title="'+E[A]["EventName"]+'" href="'+regionText+"/movies/"+E[A]["EventURL"]+"/"+E[A]["EventCode"]+'">'+((E[A]["EventName"].length>i)?E[A]["EventName"].substring(0,i)+"...":E[A]["EventName"])+" </a>";}else{e+="<a onclick= 'fnPushDataToGA(\""+E[A]["EventCode"]+'","MT","'+E[A]["EventName"]+'", "", "", "", "", "", "", "", "", "Now Showing Not Recommended", "Event Name", "", "", "", "'+intExpVal+'");\' title="'+E[A]["EventName"]+'" href="'+regionText+"/movies/"+E[A]["EventURL"]+"/"+E[A]["EventCode"]+'">'+((E[A]["EventName"].length>i)?E[A]["EventName"].substring(0,i)+"...":E[A]["EventName"])+" </a>";}e+='<div class="fleft movrating" style="position:relative;">';e+='<span class="'+E[A]["FanRating2"]+'"></span>';e+="</div>";e+=' <span class="votes">'+(0==E[A]["Votes"]?"No Votes":E[A]["Votes"])+(0==E[A]["Votes"]?"":(1==E[A]["Votes"]?" Vote":" Votes"))+"</span>";e+="</div>";e+="</div>";e+="</li>";}e+="</ul>";if(g>0){fnPushEventDataToAnalytics(["WR","KM"],"Shown recommendation",{"No. of events recommended":g,"Event types":"MT","Position Shown in":"Now Showing","Dates recommended":"",Appcode:global.AppC});}if(E.length<=0){jq("#td,#trnd").hide();jq("#trndData").html("No Movies in the Selected Region").hide();fnCS(20);jq("#coming").show();jq("#cs").addClass("selected");}else{jq("#td").html("Now Showing").addClass("selected").show();jq("#trnd").show();jq("#trndData").html(e).show();jq("#trnd").infiniteCarousel();if(E.length<5){jq("#trnd > .left_carousel,.right_carousel").hide();}else{jq("#trnd > .left_carousel,.right_carousel").show();}}e+="</ul>";if(g>0&&(typeof intExpVal!=="undefined")&&intExpVal==0){jq(".recmd_hover").each(function(){var k=this.id;var j=jq("#"+k).attr("data-id");jq("#wrapper_"+j).hover(function(){jq("#wrapper_"+j+"  #recmd_"+j+"").fadeIn();},function(){jq("#wrapper_"+j+" #recmd_"+j+"").stop(true,true).fadeOut();});});jq(".recShowTime").each(function(){var j=this.id;jq("#"+j+"").hover(function(){jq("#"+j+"").css({"background-color":"#d81b22",color:"white"});},function(){jq("#"+j+"").css({"background-color":"white",color:"#3366ff"});});});jq(".recmd_ns_eventname").each(function(){var j=this.innerHTML;if(j.length>30){j=j.substr(0,30);j+=" ...";}this.innerHTML=j;});jq(".recmd_ns_venuename").each(function(){var j=this.innerHTML;if(j.length>30){j=j.substr(0,30);j+=" ...";}this.innerHTML=j;});}if(jq(".recbox > div").length!=0){jq(".recmd_qb_venuename").each(function(){var j=this.innerHTML;if(j.length>25){j=j.substr(0,25);j+="...";}this.innerHTML=j;});jq(".recmd_qb_eventname").each(function(){var j=this.innerHTML;if(j.length>20){j=j.substr(0,20);j+="...";}this.innerHTML=j;});jq(".recmd_qb_ep_bt").each(function(){var j=this.id;jq("#"+j+"").hover(function(){jq(this).css({"background-color":"#d81b22",color:"white"});},function(){jq(this).css({"background-color":"white",color:"#3366ff"});});});jq(".recmd_qb_mt_bt").each(function(){var j=this.id;jq("#"+j+"").hover(function(){jq(this).css({"background-color":"#d81b22",color:"white"});},function(){jq(this).css({"background-color":"white",color:"#3366ff"});});});}},url:global.ajHTML});}catch(h){fnErr({fnName:"fnTrnd",err:h});}}function fnByLink(c,d){try{var b=fnGRgn();jq("#buy_"+c).removeAttr("onClick").text("Processing...");fnAjax({url:"http://"+location.host+"/getJSData/?file=/data/js/GetShowDatesByEvent_"+c+"_"+b+".js&cmd=GETSHOWDATESBYEVENTWEB&ec="+c+"&rc="+b+fnTS(),dataType:"script",success:function(k){var i="";if(typeof aiSD!=="undefined"&&aiSD.length>0){var g=aiSD[0][3];var j=new clsCookie(),h=j.get({name:"Rgn",key:"Code"}),e=j.get({name:"Rgn",key:"text"});i=location.protocol+"//"+location.host+"/buytickets/"+d+"-"+fnUrlName(e.toLowerCase())+"/movie-"+h.toLowerCase()+"-"+c+"-MT/"+g;}else{i=location.protocol+"//"+location.host+"/movies/"+d+"/"+c;}window.location.href=i;},error:function(e,h,g){jq("#buy_"+c).attr("onClick",fnByLink(c,d)).text("Buy Tickets");}});}catch(f){fnErr({fnName:"fnByLink",fnParams:c+","+d,err:f});}}function fnTopOnBMS(h){try{var f=0;var j=0;var c="true";var d=35;jq("#bmsTop").html('<img alt="Loading Top Movies" style="margin-top:15%;margin-left:45%;" src="http://cnt.in.bookmyshow.com/bmsin/common/loader.gif">');var g,b=true;fnAjax({data:"cmd=BMSTOP&mvcnt="+h+"&rgn="+fnGRgn(),dataType:"json",success:function(n){var k='<section class="trendingmov">';k+='<h1 class="title14b" id="topTitle"> Top Movies <span class="line-effect"></span></h1>';g=((n.rgn.length>0)?true:false);b=((n.all.length>0)?true:false);if(n.rgn.length>0){if(b){k+='<ul><li><h2 style="margin-bottom: 3px; font-size: 14px; font-weight: bold;">In your Region</h2></li></ul>';}for(var l=0;l<n.rgn.length;l++){if(n.rgn[l]["IsPersonalized"]==1&&(typeof intExpVal!=="undefined")&&intExpVal==0){f++;}}f=(f==1)?"Only One":"Multiple";for(var l=0;l<n.rgn.length;l++){k+='<ul class="'+(l%2==0?"":"bgfff")+" "+((n.rgn[l]["IsPersonalized"]==1&&intExpVal==0)?" topRecom":"")+'">';k+='<li class="'+(n.rgn[l]["AvgRating"]>0?(n.rgn[l]["AvgRating"]>=50?"ic-hrt hrtsm":"hrtsm"):"hrtsm")+'"></li>';k+='<li class="b000 w35">'+(n.rgn[l]["AvgRating"]>0?n.rgn[l]["AvgRating"]+"%":"NR")+"</li>";k+="<li>";if(n.rgn[l]["IsPersonalized"]==1&&(typeof intExpVal!=="undefined")&&intExpVal==0){j+=1;if(e!="false"){var o=new Date();var m=o.getHours();ga("send","event","Recommendations","Seen in Top Ten",m);var e="false";}k+="<a onclick='fnPushDataToGA(\""+n.rgn[l]["EventCode"]+'","MT","'+n.rgn[l]["EventName"]+'","","","Yes","","","'+j+'","","","Top Ten Recommended","Event Name","'+f+'","","","'+intExpVal+'");\' href="'+regionText+"/movies/"+n.rgn[l]["EventUrl"]+"/"+n.rgn[l]["EventCode"]+'">'+((n.rgn[l]["EventName"].length>d)?n.rgn[l]["EventName"].substring(0,d)+"...":n.rgn[l]["EventName"])+"</a>";k+='<span class="recTopStr"></span></li>';}else{k+="<a onclick='fnPushDataToGA(\""+n.rgn[l]["EventCode"]+'","MT","'+n.rgn[l]["EventName"]+'","","","Yes","","","","","","Top Ten Not Recommended","Event Name","","","","'+intExpVal+'");\' href="'+regionText+"/movies/"+n.rgn[l]["EventUrl"]+"/"+n.rgn[l]["EventCode"]+'">'+((n.rgn[l]["EventName"].length>d)?n.rgn[l]["EventName"].substring(0,d)+"...":n.rgn[l]["EventName"])+"</a>";}k+="</li>";k+="</ul>";}}if(n.all.length>0){if(g){k+='<ul><li><h2 style="margin-bottom: 3px; font-size: 14px; font-weight: bold;margin-top: 10px;">In India</h2></li></ul>';}for(var l=0;l<n.all.length;l++){k+='<ul class="'+(l%2==0?"":"bgfff")+" "+((n.all[l]["IsPersonalized"]==1&&(typeof intExpVal!=="undefined")&&intExpVal==0)?" topRecom":"")+'">';k+='<li class="'+(n.all[l]["AvgRating"]>0?(n.all[l]["AvgRating"]>=50?"ic-hrt hrtsm":"hrtsm"):"hrtsm")+'"></li>';k+='<li class="b000 w35">'+(n.all[l]["AvgRating"]>0?n.all[l]["AvgRating"]+"%":"NR")+"</li>";k+="<li>";if(n.all[l]["IsPersonalized"]==1&&(typeof intExpVal!=="undefined")&&intExpVal==0){k+="<a onclick='fnPushDataToGA(\""+n.all[l]["EventCode"]+'","MT","'+n.all[l]["EventName"]+'","","","Yes","","","'+j+'","","","Top Ten Recommended","Event Name","","","","'+intExpVal+'");\' href="'+regionText+"/movies/"+n.all[l]["EventUrl"]+"/"+n.all[l]["EventCode"]+'">'+((n.all[l]["EventName"].length>d)?n.all[l]["EventName"].substring(0,d)+"...":n.all[l]["EventName"])+"</a>";k+='<span class="recTopStr"></span></li>';}else{k+="<a onclick='fnPushDataToGA(\""+n.all[l]["EventCode"]+'","MT","'+n.all[l]["EventName"]+'","","","Yes","","","","","","Top Ten Not Recommended","Event Name","","","","'+intExpVal+'");\' href="'+regionText+"/movies/"+n.all[l]["EventUrl"]+"/"+n.all[l]["EventCode"]+'">'+((n.all[l]["EventName"].length>d)?n.all[l]["EventName"].substring(0,d)+"...":n.all[l]["EventName"])+"</a>";}k+="</li>";k+="</ul>";}}if(n.rgn.length<=0&&n.all.length<=0){k+='<ul><li><h2 style="margin-bottom: 3px; font-size: 14px; font-weight: bold; margin-top: 10px;">Oops! No top movies in this region</h2></li></ul>';}k+="</section>";jq("#bmsTop").html(k);if(!(g&&b)){jq("#topTitle").html("Top Movies in "+(b?"India":"your Region")+' <span class="line-effect"></span></h1>');}if(j>0){fnPushEventDataToAnalytics(["WR","KM"],"Shown recommendation",{"No. of events recommended":j,"Event types":"MT","Position Shown in":"Top Ten","Dates recommended":"",Appcode:global.AppC});}},url:global.ajHTML});}catch(i){fnErr({fnName:"fnTopOnBMS",fnParams:h,err:i});}}function fnDefault(){try{if(global.RgnCallBack==undefined){global.RgnCallBack=[];}ga("send","event","Home","Viewed Home page",intExpVal);if(jq(".recbox > div").length!=0&&typeof intExpVal!=="undefined"&&intExpVal==0){var f=new Date();var b=f.getHours();ga("send","event","Recommendations","Seen in Quick Book",b);fnPushEventDataToAnalytics(["WR","KM"],"Shown recommendation",{"No. of events recommended":seenRecQuickBook_count,"Event types":seenRecQuickBook_eventTypes,"Position Shown in":"Quick Book","Dates recommended":"",Appcode:global.AppC});}global.RgnCallBack.push(function(){fnSwapTabs("vdFt");fnSwapTabs("trndDiv");fnSwapTabs("instBook");fnXml("home");fnBanner(6);fnTopOnBMS(10);fnTrnd();if(typeof aIBSEvents!="undefined"){aIBSEvents=undefined;fnInstEvnts();}fnFeat(4);if(fnGRgn()!=""&&fnGRgn()!="ALL"){fnOcCriteria("ET","MT");jq("#dHideInstaBook").hide();}else{jq("#dHideInstaBook").show();}});fnSwapTabs("vdFt");fnSwapTabs("trndDiv");fnSwapTabs("instBook");fnXml("home");fnWebSkinXml("ws-ho");fnBanner(3);fnTopOnBMS(10);fnTrnd();fnFeat(4);if(fnGRgn()!=""&&fnGRgn()!="ALL"){fnOcCriteria("ET","MT");jq("#dHideInstaBook").hide();}else{jq("#dHideInstaBook").show();}}catch(c){fnErr({fnName:"fnDefault",err:c});}}var fnQuickBook={show:function(c){var b=jq(".recbox");b.animate({left:-(jq(".rec_movies").width()+jq(".events").width()+40)});jq(".recbox > img").attr("src","http://cnt.in.bookmyshow.com/bmsin/special/recommend_in01.png");},hide:function(c){var b=jq(".recbox");b.css({left:0});jq(".mainrecbox").css("z-index",99);jq(".recbox > img").attr("src","http://cnt.in.bookmyshow.com/bmsin/special/recommend_out01.png");}};function fnLoadDate(){try{var c="";cmbMovieDate.clearOpts("Select Date");var f=[];for(var d=0;d<aiSD.length;d++){if(c.search(aiSD[d][3])<0){f.push({name:aiSD[d][4],value:aiSD[d][3]});c+=aiSD[d][3]+"|";}}f.sort(function(h,e){if(h.value==e.value){return 0;}return h.value<e.value?-1:1;});for(var d=0;d<f.length;d++){cmbMovieDate.addOpt(f[d]);}if(rstDts==true){if(fnGQS&&(fnGQS("did")!="")){cmbMovieDate.setValue(fnGQS("did"),false);}rstDts=false;}cmbMovieDate.toggleEnable(true);if(fnGQS("srid")==""){cmbMovieDate.showMenu();}}catch(g){fnErr({fnName:"fnLoadDate",err:g});}}function fnBookNow(g,f,b,c,d,h){try{if(typeof(ga)!=="undefined"){ga("send","pageview","home-selectedshowtime");}if(intExpVal==1){fnBusy(true);fnQuickBook.hide();if(typeof(glBT)!=="undefined"&&typeof(glBT.dispDate)!=="undefined"){glBT.dispDate="";}if(jq("#bytCss").length==0){jq("head").append("<link id='bytCss' rel=stylesheet type=text/css href=http://in.bmscdn.com/web/css/buytickets.css?vs="+fnTS()+" />");}jq.getScript("/getJSData/?file=/data/js/GetEvents_"+g+".js&cmd=GETEVENTSWEB&et="+g+"&rc="+f+fnTS(),function(){jq.getScript("/getJSData/?file=/data/js/GetShowDatesByEvent_"+d+"_"+f+".js&cmd=GETSHOWDATESBYEVENTWEB&ec="+d+"&rc="+f+fnTS(),function(){jq.getScript("/getJSData/?file=/data/js/GetShowTimesByEvent_"+f+"_"+d+"_"+h+".js&cmd=GETSHOWTIMESBYEVENTWEB&ec="+d+"&dc="+h+"&rc="+f+fnTS(),function(){var e="";for(var j=0;j<aST.length;j++){if(b==aST[j][0]&&c==aST[j][2]){e=aST[j][3];}}function k(){jq.ajax({url:"/booking_flow.inc.bms",success:function(l){if(jq("#jqBookingFlow").length==0){jq("body").append("<div id='jqBookingFlow'></div>"+l+"<span class='item' style='display:none;'><a class='chosen' data-disp_date=''></a></span>");}jq(".qtselect").on("change",function(){if(jq(this).val()==""){jq(".qtselect").next().children(".qytVal").text("Qty");}else{jq(".qtselect").next().children(".qytVal").text(jq(this).val());}});jq("#EDtl").children().eq(0).html("");blnVistaCine=false;blnHasPopupMsg=false;for(var m in aVN){if(aVN[m][0]==b&&aVN[m][15]=="Y"){blnVistaCine=true;}if(aVN[m][0]==b&&aVN[m][16]!=""){blnHasPopupMsg=true;}}jq(".item a.chosen").attr("data-disp_date","");for(m in aiSD){if(aiSD[m][3]==h){jq(".item a.chosen").data("disp_date",aiSD[m][4]);glBT.dispDate=aiSD[m][4];break;}}if(blnHasPopupMsg){fnPopupSelSh(window.event,b,c,d,e);}else{fnSelSh(window.event,b,c,d,e);}fnQuickBook.hide();}});}k();});});});}else{setTimeout('location.href = "/booktickets/'+b+"/"+c+'/MT"',100);}}catch(i){console.log("recomendation not going ahead...");}}function fnPush_to_Kis_Wiz(b,d){try{objevent_details={};var f=new clsCookie();for(var c=0;c<aiEV.length;c++){if(aiEV[c][1]==glBT.SEC){objevent_details.eventcode=glBT.SEC;objevent_details.eventtype=aiEV[c][0];objevent_details.eventname=aiEV[c][4];objevent_details.eventlanguage=aiEV[c][2];objevent_details.eventgenre="";}}for(var c=0;c<aVN.length;c++){if(aVN[c][0]==glBT.SVC){objevent_details.venuename=aVN[c][1];objevent_details.venuegroup=aVN[c][0];}}objevent_details.isloggedin=((f.get({name:"ld",key:"MEMBEREMAIL",defVal:""})!="")?"Yes":"No");if(b=="Selected showtime"){fnPushEventDataToAnalytics(["WR","KM"],"Selected showtime",{"Event Type":typeof(objevent_details.eventtype)=="undefined"?"":objevent_details.eventtype,"Event Name":typeof(objevent_details.eventname)=="undefined"?"":objevent_details.eventname,Language:typeof(objevent_details.eventlanguage)=="undefined"?"":objevent_details.eventlanguage,"Venue Name":typeof(objevent_details.venuename)=="undefined"?"":objevent_details.venuename,"Venue group":typeof(objevent_details.venuegroup)=="undefined"?"":objevent_details.venuegroup,"Is Logged in":typeof(objevent_details.isloggedin)=="undefined"?"":objevent_details.isloggedin,Page:"Home page on clicking showtime",Appcode:global.AppC});}if(b=="Selected quantity"&&d=="Category + Quantity from Buytickets"){fnPushEventDataToAnalytics(["WR","KM"],"Selected quantity",{ProductID:typeof(objevent_details.eventcode)=="undefined"?"":objevent_details.eventcode,"Event Type":typeof(objevent_details.eventtype)=="undefined"?"":objevent_details.eventtype,"Event Name":typeof(objevent_details.eventname)=="undefined"?"":objevent_details.eventname,"Venue Name":typeof(objevent_details.venuename)=="undefined"?"":objevent_details.venuename,"Venue group":typeof(objevent_details.venuegroup)=="undefined"?"":objevent_details.venuegroup,"Is Logged in":typeof(objevent_details.isloggedin)=="undefined"?"":objevent_details.isloggedin,"Quantity selection place":"Category + Quantity from Home",Appcode:global.AppC});}if(b=="Selected quantity"&&d=="quantity Quantity + Seat layout from Buytickets"){fnPushEventDataToAnalytics(["WR","KM"],"Selected quantity",{ProductID:typeof(objevent_details.eventcode)=="undefined"?"":objevent_details.eventcode,"Event Type":typeof(objevent_details.eventtype)=="undefined"?"":objevent_details.eventtype,"Event Name":typeof(objevent_details.eventname)=="undefined"?"":objevent_details.eventname,"Venue Name":typeof(objevent_details.venuename)=="undefined"?"":objevent_details.venuename,"Venue group":typeof(objevent_details.venuegroup)=="undefined"?"":objevent_details.venuegroup,"Is Logged in":typeof(objevent_details.isloggedin)=="undefined"?"":objevent_details.isloggedin,"Quantity selection place":"quantity Quantity + Seat layout from Home",Appcode:global.AppC});}if(b=="Selected seat"&&d=="Callout from Buytickets with only seat selection option"){fnPushEventDataToAnalytics(["WR","KM"],"Selected seat",{ProductID:typeof(objevent_details.eventcode)=="undefined"?"":objevent_details.eventcode,"Event Type":typeof(objevent_details.eventtype)=="undefined"?"":objevent_details.eventtype,"Event Name":typeof(objevent_details.eventname)=="undefined"?"":objevent_details.eventname,"Venue Name":typeof(objevent_details.venuename)=="undefined"?"":objevent_details.venuename,"Venue group":typeof(objevent_details.venuegroup)=="undefined"?"":objevent_details.venuegroup,"Seat selection place":"Callout from Home with only seat selection option",Appcode:global.AppC});}if(b=="Selected seat"&&d=="Callout from Buytickets with Quantity + Seat option"){fnPushEventDataToAnalytics(["WR","KM"],"Selected seat",{ProductID:typeof(objevent_details.eventcode)=="undefined"?"":objevent_details.eventcode,"Event Type":typeof(objevent_details.eventtype)=="undefined"?"":objevent_details.eventtype,"Event Name":typeof(objevent_details.eventname)=="undefined"?"":objevent_details.eventname,"Venue Name":typeof(objevent_details.venuename)=="undefined"?"":objevent_details.venuename,"Venue group":typeof(objevent_details.venuegroup)=="undefined"?"":objevent_details.venuegroup,"Seat selection place":"Callout from Home with Quantity + Seat option",Appcode:global.AppC});}}catch(g){console.log("Not able to push to WZR");}}function fnGATracker(i){try{var f=location.pathname.replace(/\//g,"");if(i.location=="Cl1catqty"||i.location=="Cl2SeatSel"||i.location=="Cl3OdSum"){f="home";}var c=(f=="")?"home":f;var h=(i.location!="")?"-"+i.location:"";var b=(i.action!="")?"-"+i.action:"";var d=c+h+b;if(typeof(ga)!=="undefined"){ga("send","pageview",d);}if(typeof(wzrk_pushSiteEvent)!="undefined"){wzrk_pushSiteEvent(d);}}catch(g){fnErr({fnName:"fnGoToIS",fnParams:arguments,err:g});}}jq(document).ready(function(){fnDefault();});var max=8;var region=fnGRgn();var clmn1="299px";var clmn2="600px";var clmn3="900px";function fnDispEvnts(){try{jq("body").bind("click",function(c){if(c.target.id!="txtEvnt"){jq("#txtEvnt").val("Select an Event");}});jq("#txtEvnt").keyup(function(){fnFilter(jq(this).val());});jq("#txtEvnt").click(function(){jq("#noEvnts").hide();fnInstData();jq("#txtEvnt").focus().val("");});jq("#cmbEvnt").click(function(){jq("#tt_bdy").fadeIn("fast");jq("#ddrrl").css("top",(jq("#cmbEvnt").height()-3)+"px").show();});jq("#ddrrl").mouseover(function(){if(!jq("#ddrrl").is(":visible")){jq("#ddrrl").css("top",(jq("#cmbEvnt").height()-3)+"px").show();}});jq("#ddrrl").mouseout(function(){if(jq("#ddrrl").is(":visible")){jq("#tt_bdy").fadeOut("fast");jq("#ddrrl").hide();}});}catch(b){fnErr({fnName:"fnDispEvnts",err:b});}}function fnFilter(b){try{jq("#noEvnts").hide();var f=new Array();var n=new Array();var p=b.toUpperCase();var l=new RegExp(p);for(var g=0;g<aIBSEvents.Regional.length;g++){var d=aIBSEvents.Regional[g].EN;if(l.test(d.toUpperCase())){f.push(aIBSEvents.Regional[g]);}}for(var g=0;g<aIBSEvents.National.length;g++){var o=aIBSEvents.National[g].EN;if(l.test(o.toUpperCase())){n.push(aIBSEvents.National[g]);}}var k="";var c=f.length;var q=n.length;var m=max-1;if(c>0){for(var g=0;g<c;g++){m++;if(m%max==0){k+='<div class ="inner" style="float: left; display: none;" id=\'divId'+(m/max)+"' >";k+="<ul>";}k+="<li>";k+="&bull; <a href='/events/"+f[g].EUrl+"/"+f[g].EC+"'>"+f[g].EN+"</a> ";k+="</li>";if(m%max==(max-1)){k+="</ul>";k+="</div>";}}if(m%max!=(max-1)){k+="</ul>";k+="</div>";}}var h="";h+='<div class ="inner" style="float:left; '+((c>0)?"border-left: 1px solid #CCCCCC;":"")+' ">';h+="<ul>";if(q>0){for(var g=0;g<q;g++){if(g>(max+1)){break;}h+='<li style="float:left;">';h+="&bull; <a href='/events/"+n[g].EUrl+"/"+n[g].EC+"'>"+n[g].EN+"</a>";h+="</li>";}}h+="</ul>";h+="</div>";if(c==0&&q==0){jq("#nEvents,#rEvents").html("").hide();jq("#rHead,#nHead").hide();jq("#ddrrl").css("width",clmn1);jq("#ddrrl >#noEvnts").html('<ul><li class="nodata" value="nodata"  style="margin-top: 15px;" >No Records Found!</li></ul>').css("display","block");}if(c>0){if(q>0){jq("#rEvents").html(k).show();jq("#nEvents").html(h).show();jq("#rHead,#nHead").show();jq("#ddrrl").css("width",clmn2);}else{jq("#nHead,#nEvents").hide();jq("#rHead").show();jq("#rEvents").html(k).show();jq("#ddrrl").css("width",clmn1);}}if(q>0){if(c>0){jq("#rEvents").html(k).show();jq("#nEvents").html(h).show();jq("#rHead,#nHead").show();jq("#ddrrl").css("width",clmn2);}else{jq("#rHead,#rEvents").hide();jq("#nHead").show();jq("#nEvents").html(h).show();jq("#ddrrl").css("width",clmn1);}}if(c!=0&&q>=0){fnSwData("divId",1,max,c,q);}jq("#ddrrl").css("top",(jq("#cmbEvnt").height()-3)+"px").show();}catch(j){fnErr({fnName:"fnFilter",fnParams:b,err:j});}}function fnInstData(){try{var c=aIBSEvents.Regional.length;var l=aIBSEvents.National.length;var b=aIBSEvents.Regional;var j=aIBSEvents.National;var h="";var k=max-1;if(c>0){for(var d=0;d<c;d++){k++;if(k%max==0){h+='<div class ="inner" style="float: left; display: none;" id=\'divId'+(k/max)+"' >";h+="<ul>";}h+='<li style="float:left;">';h+='<span class="bullet">&bull;</span><a class="evinsnm" href=\'/events/'+b[d].EUrl+"/"+b[d].EC+"'>"+b[d].EN+"</a>";h+="</li>";if(k%max==(max-1)){h+="</ul>";h+="</div>";}}if(k%max!=(max-1)){h+="</ul>";h+="</div>";}}var f="";f+='<div class ="inner" style="float:left; '+((c>0)?"border-left: 1px solid #CCCCCC;":"")+' padding: 10px; width: 100%;">';f+="<ul>";if(l>0){for(var d=0;d<l;d++){if(d>(max+1)){break;}f+='<li style="float: left;">';f+='<span class="bullet">&bull;</span><a class="evinsnm" href=\'/events/'+j[d].EUrl+"/"+j[d].EC+"'>"+j[d].EN+"</a>";f+="</li>";}}f+="</ul>";f+="</div>";jq("#txtEvnt").val("Select an Event");if(c==0&&l==0){jq("#nEvents,#rEvents").html("").hide();jq("#rHead,#nHead").hide();jq("#ddrrl").css("width",clmn1);jq("#ddrrl >#noEvnts").html('<ul><li class="nodata" value="nodata"  style="margin-top: 15px;" >No Records Found!</li></ul>').css("display","block");}if(c>0){if(l>0){jq("#rEvents").html(h).show();jq("#nEvents").html(f).show();jq("#rHead,#nHead").show();jq("#ddrrl").css("width",clmn2);}else{jq("#nHead,#nEvents").hide();jq("#rHead").show();jq("#rEvents").html(h).show();jq("#ddrrl").css("width",clmn1);}}if(l>0){if(c>0){jq("#ddrrl").css("width",clmn2);jq("#rEvents").html(h).show();jq("#nEvents").html(f).show();jq("#rHead,#nHead").show();}else{jq("#ddrrl").css("width",clmn1);jq("#rHead,#rEvents").hide();jq("#nHead").show();jq("#nEvents").html(f).show();}}fnSwData("divId",1,max,c,l);fnDispEvnts();}catch(g){fnErr({fnName:"fnInstData",err:g});}}function fnInstEvnts(){try{jq("#ddrrl,#tt_bdy").hide();jq("#txtEvnt").val("Select an Event");if(typeof aIBSEvents!="undefined"){return;}var b=fnGRgn();if(b==""){b="ALL";return;}else{var d=["MCENT","MWEST","THAN","KALYAN","ULHA"];var c=["DELHI","GURG","NOIDA","GHAZ","FARI"];if(jq.inArray(b,d)!=-1){b="MUMBAI";}else{if(jq.inArray(b,c)!=-1){b="NCR";}}}fnAjax({data:"cmd=HPEVNT&rgn="+b,dataType:"script",success:function(e){fnInstData();},url:global.ajHTML});}catch(f){fnErr({fnName:"fnInstEvnts",err:f});}}function fnSwData(h,k,b,l,n){try{var d=l%max;var c=parseInt(l/max);var m=(d>0)?c+1:c;var f="300px";for(var g=1;g<=m;g++){if(g==k){jq("#"+h+(g)).show();jq("#rEvents").css("width",clmn1);}else{jq("#"+h+(g)).hide();}}if(n>0){f=(l>0)?clmn2:clmn1;}else{if(l>0){f=(n>0)?clmn2:clmn1;}}jq(".rEvents").css("width",clmn1);jq("#ddrrl").css("width",f);fnPager(l,max,h,"fnSwData",k,n);}catch(j){fnErr({fnName:"fnSwData",fnParams:h+","+k+","+b+","+l,err:j});}}function fnPager(n,m,h,l,k,o){try{var f=n%m;var d=parseInt(n/m);var b=(f>0)?d+1:d;var c="";c+="<ul>";for(var g=1;g<=b;g++){if(g==k){c+='<li class="sel">'+g+"</li>";}else{c+='<li><a href="javascript:;" onclick="'+l+"('"+h+"', "+g+", "+max+", "+n+", "+o+');">';c+=g;c+="</a></li>";}}c+="</ul>";if(c!=""){if(n<=max){jq("#iPages").html(c).hide();}else{jq("#iPages").html(c).show();}}}catch(j){fnErr({fnName:"fnPager",fnParams:n+", "+m+", "+h+", "+l+", "+k,err:j});}}function fnAnim(){jq(".recm_box.shadowBox").bind({mouseenter:function(){jq(this).children(".feat_inrTxt").stop(true,true).fadeIn(350,"easeInOutQuad");jq(this).children(".btm_past").css({background:"#000"});},mouseleave:function(){jq(this).children(".feat_inrTxt").stop(true,true).fadeOut(350,"easeInOutQuad");jq(this).children(".btm_past").css({background:"#000","background-color":"rgba(0,0,0,0.8)"});}});}